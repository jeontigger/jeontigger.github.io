---
title: "[ì½”ë”©í…ŒìŠ¤íŠ¸] ë¶„í• ì •ë³µ"
date: 2026-01-19 17:53:30 +09:00
categories: [ì½”ë”©í…ŒìŠ¤íŠ¸]
published: true
tags:
    [ì½”ë”©í…ŒìŠ¤íŠ¸, ë¶„í• ì •ë³µ]
---


## ê°œìš”

ë¬¸ì œë¥¼ ì ˆë°˜ìœ¼ë¡œ ë‚˜ëˆ„ê³  ê°ê°ì„ ì¬ê·€ì ìœ¼ë¡œ í’€ì–´ì„œ í•©ì¹  ìˆ˜ ìˆë‹¤ë©´ ë¶„í• ì •ë³µ

ì‹œê°„ë³µì¡ë„: N(LogN)
ìœ í˜•: ì§€ìˆ˜ ì ˆë°˜, ì¿¼ë“œíŠ¸ë¦¬, ëŒ€ì¹­ì í™”ì‹, íŠ¸ë¦¬ìˆœíšŒë¡œ ë‹¤ë¥¸ íŠ¸ë¦¬ë§Œë“¤ê¸°, ì¢Œ/ìš°/ì¤‘ê°„ í†µí•©, ë¨¸ì§€ì†ŒíŠ¸í•˜ë©´ì„œ ì‹œê°„ë³µì¡ë„ ì¤„ì´ê¸°
ì…ë ¥: 10ë§Œê°œì¯¤ ì…ë ¥ë˜ë©´ NLogNì´ë¼ê³  ë´ì•¼ í•¨

> ### ì¿¼ë“œíŠ¸ë¦¬
1. 2ì°¨ì› ë°°ì—´ì„ 1ì°¨ì›ìœ¼ë¡œ ì••ì¶•í•˜ëŠ” ë¬¸ì œ
2. 1ì°¨ì› ë°°ì—´ì„ 2ì°¨ì› ë°°ì—´ë¡œ ì••ì¶•í•´ì œí•˜ëŠ” ë¬¸ì œ
3. 1ì°¨ì› ë°°ì—´ì´ ì£¼ì–´ì§€ê³ , ì •í•´ì§„ ë¶€ë¶„ì˜ ê°’ì„ ë³€ê²½í•˜ê³  1ì°¨ì› ë°°ì—´ì„ ë¦¬í„´í•´ì•¼í•˜ëŠ” ë¬¸ì œ
4. 1ì°¨ì› ë°°ì—´ì´ ì£¼ì–´ì§€ê³ , ìƒí•˜ë‚˜ ì¢Œìš° ë°˜ì „í•˜ëŠ” ë¬¸ì œ

- ê°œì¸ì ìœ¼ë¡  ì¢Œìƒë‹¨ì˜ ì¢Œí‘œì™€ ê·¸ ì§€ì ë¶€í„° ~ê¹Œì§€ì˜ ê¸¸ì´ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë³´ë‚´ëŠ” ê²ƒì´ ê°€ì¥ í¸í•¨
- ì•„ë§ˆë„ N\*N ë°°ì—´ì¼í…Œì§€ë§Œ, N\*Mì˜ ê²½ìš° ê¸¸ì´ íŒŒë¼ë¯¸í„°ë¥¼ 2ê°œ ë³´ë‚´ë©´ ë  ê²ƒ
- 4ë²ˆ ìœ í˜• ê°™ì€ ê²½ìš°ì—” ì¿¼ë“œíŠ¸ë¦¬ë¥¼ í•´ì œí•  í•„ìš”ë„ ì—†ìŒ

> ### ëŒ€ì¹­ì í™”ì‹

- í’€ì–´ë³¸ ë¬¸ì œë“¤ì€ ë³´í†µ Nì˜ ì–‘ ì˜†ìœ¼ë¡œ N-1ì˜ ì í™”ì‹ë“¤ì´ ë¶™ëŠ” ë°©ì‹ì˜ ë¬¸ì œë“¤ì´ì—ˆìŒ
- ì£¼ì–´ì§„ ì‹ì´ ëª‡ë²ˆì§¸ Nì¼ì§€ ì˜ˆì¸¡í•˜ì—¬ ê°€ì¥ ê°€ìš´ë°ê°€ ë˜ëŠ” Nì„ ì°¾ê¸°
- ë˜ëŠ”, ì£¼ì–´ì§„ Nì˜ ê¸¸ì´ë¥¼ ì˜ˆì¸¡í•˜ì—¬ ì¤‘ì•™ ê°’ì„ ì°¾ê¸°ê°€ í•„ìš”í•¨

> ### íŠ¸ë¦¬ ìˆœíšŒë§Œìœ¼ë¡œ íŠ¸ë¦¬ ë§Œë“¤ê¸°
1. ì „ìœ„ ì¤‘ìœ„ í›„ìœ„ ìˆœíšŒ ì¤‘ 2ê°€ì§€ë§Œ ì£¼ê³  ë‚˜ë¨¸ì§€ í•˜ë‚˜ë¥¼ êµ¬ì„±í•˜ê¸°
2. ì¦ê°€í•˜ëŠ” ìˆœì—´ë¡œ BST ë§Œë“¤ê¸°

- ì „ìœ„ ìˆœíšŒëŠ” ê°€ì¥ ì²˜ìŒì— ë‚˜ì˜¤ëŠ” ê²ƒì´ ë£¨íŠ¸
- í›„ìœ„ ìˆœíšŒëŠ” ê°€ì¥ ë§ˆì§€ë§‰ì— ë‚˜ì˜¤ëŠ” ê²ƒì´ ë£¨íŠ¸
- ìœ„ íŠ¹ì§•ë“¤ì„ ê°€ì§€ê³  ì¤‘ìœ„ ìˆœíšŒì—ì„œ ë£¨íŠ¸ë¥¼ ì°¾ê³  ë°°ì—´ì„ ë¶„í• í•˜ì—¬ ë°˜ë³µ

> ### ì¢Œ/ìš°/ì¤‘ê°„ í†µí•©
ë³´í†µ ì¢Œ/ìš°ë¡œ ë‚˜ëˆ„ê³  ë‘ê°€ì§€ë¥¼ í†µí•©í•˜ëŠ” ë°©ì‹ì´ì§€ë§Œ ì¢Œì—ë„ í•˜ë‚˜ì´ìƒ, ìš°ì—ë„ í•˜ë‚˜ ì´ìƒì˜ ê°’ì´ ìˆëŠ” ê²½ìš°ë¥¼ íƒìƒ‰í•˜ëŠ” ìœ í˜•

- ê¸°ë³¸í˜•
```cpp
int Func(int left, int right){
	int mid = (left + right) / 2;
    
    // ì¢Œìš° íƒìƒ‰
    int maxValue = max(Func(left, mid), Func(mid+1, right));
    int lo = mid, hi = mid + 1;
    
    // ê°€ìš´ë° íƒìƒ‰
	while(left <= lo || hi <= right){
    	if(hi <= right && (lo > left || arr[right] > arr[left]){
        	right++;
        }else{
        	left++;
        }
    }
    return maxValue;
}
```

> ### ë¨¸ì§€ì†ŒíŠ¸í•˜ë©´ì„œ ì‹œê°„ë³µì¡ë„ ì¤„ì´ê¸°
ë³´í†µ ê³„ì‚°í•˜ë©´ O(N^2)ì¸ íƒìƒ‰ì„, ë¨¸ì§€ì†ŒíŠ¸í•˜ë©° ì •ë ¬ëœ ìƒíƒœë¥¼ ìœ ì§€í•˜ì—¬ íƒìƒ‰ì„ O(NLogN)ìœ¼ë¡œ ì¤„ì´ëŠ” ê¸°ë²•

ì •ë ¬ì„ í•´ì„œ ë” ê³„ì‚°í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” ì´ë“ë³´ëŠ” ë¶€ë¶„ì´ í•„ìš”

## ë°±ì¤€


> ### [ë°±ì¤€ 11582: ì¹˜í‚¨ TOP N(ì‹¤4)](https://www.acmicpc.net/problem/11582)

ë¶„í• ì •ë³µì„ ì§ì ‘ êµ¬í˜„í•˜ëŠ” ê²ƒì— ê°€ê¹Œì›€
sort í•¨ìˆ˜ë¥¼ ì˜ ì‚¬ìš©í•œë‹¤ë©´ ì‰½ê²Œ í•´ê²° ê°€ëŠ¥

> ### [ë°±ì¤€ 17829: 222-í’€ë§(ì‹¤3)](https://www.acmicpc.net/problem/17829)

ì¿¼ë“œíŠ¸ë¦¬ì™€ ìœ ì‚¬í•˜ê²Œ 4ë¶„í• ì´ì§€ë§Œ 2ë²ˆì§¸ë¡œ ì‘ì€ ê°’ ì°¾ê¸°

> ### [ë°±ì¤€ 1992: ì¿¼ë“œíŠ¸ë¦¬(ì‹¤1)](https://www.acmicpc.net/problem/1992)

2ì°¨ì› ë°ì´í„°ë¥¼ ì£¼ê³  ì¿¼ë“œíŠ¸ë¦¬ë¡œ ì••ì¶•í•˜ëŠ” ë¬¸ì œ

> ### [ë°±ì¤€ 5904: Moo ê²Œì„(ê³¨5)](https://www.acmicpc.net/problem/5904)

ì í™”ì‹ ë‹¨ìœ„ë¡œ ë¶„í• 
ì²˜ìŒë¶€í„° ìµœëŒ€ Kë¥¼ ê³„ì‚°í•˜ëŠ” ê²ƒì´ í•µì‹¬

> ### [ë°±ì¤€ 1802: ì¢…ì´ ì ‘ê¸°(ê³¨5)](https://www.acmicpc.net/problem/1802)

ëŒ€ì¹­?ì¸ì§€ ê²€ì‚¬. ì¢Œ/ìš° ì¤‘ í•˜ë‚˜ì˜ ìˆœì„œë¥¼ ë’¤ì§‘ê³  0ê³¼ 1ë„ ì„œë¡œ ë‹¤ë¥´ë©´ ëŒ€ì¹­?ìœ¼ë¡œ ë´„

> ### [ë°±ì¤€ 16974: ë ˆë²¨ í–„ë²„ê±°(ê³¨5)](https://www.acmicpc.net/problem/16974)

ì í™”ì‹ ëŒ€ì¹­ì´ë¼ ë¶„í• ì •ë³µìœ¼ë¡œ ì ‘ê·¼
í–„ë²„ê±°, íŒ¨í‹°, ë²ˆ ê°œìˆ˜ë¥¼ ë ˆë²¨ë³„ë¡œ ë‚˜ëˆ„ëŠ” ê²ƒì´ ì¤‘ì 
ì´ê±° ì•ˆí•´ì„œ ì¢€ ì˜¤ë˜ê±¸ë¦¼

> ### [ë°±ì¤€ 2263: íŠ¸ë¦¬ì˜ ìˆœíšŒ(ê³¨1)](https://www.acmicpc.net/problem/2263)

ê·¸ë˜í”„ì—ì„œ í™œìš©í•  ìˆ˜ ìˆì„ë“¯
ë‘ ê°€ì§€ ë²”ìœ„ë¥¼ ëª¨ë‘ ë§¤ê°œë³€ìˆ˜ë¡œ ì‚¬ìš©í•¨

<details>
<summary>ì†ŒìŠ¤ ì½”ë“œ</summary>
<div markdown="1">

```cpp
void PreOrder(int inL, int inR, int postL, int postR) {
	if (inL > inR || postL > postR) return;

	int root = post[postR];
	cout << root << ' ';

	int rootIdx = inIdx[root];

	PreOrder(inL, rootIdx - 1, postL, postL + rootIdx - inL - 1);
	PreOrder(rootIdx + 1, inR, postL + rootIdx - inL, postR - 1);

}
```

{: file=''}
</div>
</details>


> ### [ë°±ì¤€ 2104: ë¶€ë¶„ë°°ì—´ ê³ ë¥´ê¸°(í”Œ5)](https://www.acmicpc.net/problem/2104)

íˆìŠ¤í† ê·¸ë¨ì—ì„œ ê°€ì¥ í° ì§ì‚¬ê°í˜• ë¬¸ì œì™€ ìœ ì‚¬
ìë£Œí˜•ì— ìœ ì˜

> ### [ë°±ì¤€ 6549: íˆìŠ¤í† ê·¸ë¨ì—ì„œ ê°€ì¥ í° ì§ì‚¬ê°í˜•(í”Œ5)](https://www.acmicpc.net/problem/6549)

ì™¼ìª½ê³¼ ì˜¤ë¥¸ìª½, ê·¸ë¦¬ê³  ë‘˜ ì‚¬ì´ë¥¼ ê²¹ì¹˜ëŠ” ë¶€ë¶„ì„ ê²€ì‚¬í•˜ëŠ” ë¶„í• ì •ë³µ

> ### [ë°±ì¤€ 2261: ê°€ì¥ ê°€ê¹Œìš´ ë‘ ì (í”Œ2)](https://www.acmicpc.net/problem/2261)

ì»·íŒ… ë°©ì‹ì„ ëˆˆì—¬ê²¨ ë´ì•¼ í•¨
xì¶• ë¿ë§Œ ì•„ë‹ˆë¼ yì¶• ì»·íŒ…ê¹Œì§€ í•´ì•¼í•¨

<details>
<summary>ì†ŒìŠ¤ ì½”ë“œ</summary>
<div markdown="1">

```cpp
int N;
struct Pos {
	int x;
	int y;
};

vector<Pos> pos;

void Inputs() {
	cin >> N;
	pos.resize(N);
	FOR(i, N) {
		cin >> pos[i].x >> pos[i].y;
	}
}

int Dist(const Pos& l, const Pos& r) {
	return (l.x - r.x) * (l.x - r.x) + (l.y - r.y) * (l.y - r.y);
}

int DC(int left, int right) {
	if (right - left + 1 == 1) return INF;

	int ret = INF;
	int mid = (left + right) / 2;
	ret = min(DC(left, mid), DC(mid + 1, right));

	vector<Pos> cand;
	for (int i = left; i <= right; i++) {
		int diff = pos[mid].x - pos[i].x;
		if (diff * diff < ret)
			cand.push_back(pos[i]);
	}

	sort(cand.begin(), cand.end(), [](const Pos& p1, const Pos& p2) {
		return p1.y < p2.y;
		});

	for (int i = 0; i + 1 < cand.size(); i++) {
		for (int j = i + 1; j < cand.size(); j++) {
			int diff = cand[i].y - cand[j].y;
			if (diff * diff < ret) {
				ret = min(ret, Dist(cand[i], cand[j]));
			}
			else
				break;
		}
	}

	return ret;
}

void Solution() {
	sort(pos.begin(), pos.end(), [](const Pos& p1, const Pos& p2) {
		return p1.x < p2.x;
		});

	cout << DC(0, N - 1);
}
```

{: file=''}
</div>
</details>


---
## LeetCode(Easy)

> ### [ë¦¬íŠ¸ì½”ë“œ 108: Convert Sorted Array to Binary Search Tree](https://leetcode.com/problems/convert-sorted-array-to-binary-search-tree)

109ë²ˆ(Med.ì— ìˆìŒ)ì˜ ê¸°ë³¸í˜•

> ### [ë¦¬íŠ¸ì½”ë“œ 190: Reverse Bits](https://leetcode.com/problems/reverse-bits)

êµ³ì´ DCë¡œ í• ê²Œ ì•„ë‹ˆë¼ ë¹„íŠ¸ë¥¼ ë’¤ì§‘ëŠ”ê²Œ ë” ì‰¬ì›€...
- ì£¼ì˜í•  ì ìœ¼ë¡œ whileë¬¸ìœ¼ë¡œ string 2ì§„ìˆ˜í™” í•˜ë©´ ì•ì— 0ì´ ì°¨ì§€ëŠ” ì•ŠìŒ

<details>
<summary>ì†ŒìŠ¤ ì½”ë“œ</summary>
<div markdown="1">

```cpp

```cpp
// numì´ 3ì´ë©´ ê²°ê³¼ë¬¼ -> "11"
string ToBinary(int num){
    string ret = "";

    while(num != 0){
		    int rem = num %2;
		    ret = to_string(rem) + ret;
		    num /= 2;
    }
    return ret;
}

// numì´ 3ì´ë©´ ê²°ê³¼ë¬¼ -> "0" * 30ê°œ + "11"
string ToBinary(int num){
    string ret = "";

    for(int i = 0 ; i < 32; i++){
        int rem = num % 2;
        ret = to_string(rem) + ret;
        num /= 2;
    }
    return ret;
}
```

{: file=''}
</div>
</details>


> ### [ë¦¬íŠ¸ì½”ë“œ 1763: Longest Nice Substring](https://leetcode.com/problems/longest-nice-substring)

ì´ê²ƒë„ DCê°€ ì•„ë‹Œê±¸ë¡œ í‘¸ëŠ”ê²Œ í›¨ì”¬ ë‚˜ìŒ
String ë¬¸ì œë¡œ ë³´ì„

## LeetCode(Med.)

> ### [ë¦¬íŠ¸ì½”ë“œ 50: Pow(x, n)](https://leetcode.com/problems/powx-n)

ìºì‹±ì„ ì˜ëª»ì‚¬ìš©í•´ì„œ ì‹œê°„ì´ˆê³¼ê°€ ë‚¬ì—ˆìŒ

<details>
<summary>ì†ŒìŠ¤ ì½”ë“œ</summary>
<div markdown="1">

```cpp
class Solution {
public:
    map<long, double> cache;
    double myPow(double x, long n) {
        if(n == 0) return 1;
        // if(cache[n] != 0) return cache[n]; ìœ¼ë¡œ í•˜ë©´ ì‹œê°„ì´ˆê³¼
        if(cache.find(n) != cache.end()) return cache[n];

        if(n > 0){
            if(n %2 != 0){
                return myPow(x, n-1) * x;
            }else{
                return cache[n] = myPow(x, n/2) * myPow(x, n/2);
            }
        }else{
            return 1/myPow(x, -n);
        }
    }
};
```

{: file=''}
</div>
</details>


> ### [ë¦¬íŠ¸ì½”ë“œ 105: Construct Binary Tree from Preorder and Inorder Traversal](https://leetcode.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal)

inorderì™€ preorderë¥¼ í†µí•´ BST ë§Œë“¤ê¸°

<details>
<summary>ì†ŒìŠ¤ ì½”ë“œ</summary>
<div markdown="1">

```cpp
TreeNode* BST(int pl, int pr, int il, int ir){
    if(pl > pr || il > ir) return nullptr;

    // preì˜ ê°€ì¥ ì™¼ìª½ì€ root
    // inì˜ rootë¥¼ ì°¾ê³  ê·¸ ì™¼ìª½ê³¼ ì˜¤ë¥¸ìª½ì„ ë‚˜ëˆ”
    int rootVal = m_pre[pl];
    int inIdx = -1;
    for(int idx = il; idx <= ir; idx++){
        if(rootVal == m_in[idx]){
            inIdx = idx;
            break;
        }
    }

    int leftSize = inIdx - il;
    int rightSize = ir - inIdx;

    auto lNode = BST(pl+1, pl+leftSize, il, inIdx-1);
    auto rNode = BST(pl+1+leftSize, pr, inIdx+1, ir);
    TreeNode* root = new TreeNode(rootVal);
    root->left = lNode;
    root->right = rNode;

    return root;
}
```

{: file=''}
</div>
</details>


> ### [ë¦¬íŠ¸ì½”ë“œ 106: Construct Binary Tree from Inorder and Postorder Traversal](https://leetcode.com/problems/construct-binary-tree-from-inorder-and-postorder-traversal)

inorderì™€ postorderë¥¼ í†µí•´ BST ë§Œë“¤ê¸°

> ### [ë¦¬íŠ¸ì½”ë“œ 109: Convert Sorted List to Binary Search Tree](https://leetcode.com/problems/convert-sorted-list-to-binary-search-tree)

ì •ë ¬ëœ Listë¥¼ BSTë¡œ ë³€ê²½í•˜ëŠ” ë¬¸ì œ
BSTë¥¼ íƒìƒ‰í•˜ëŠ” í•¨ìˆ˜ì—ì„œ ì›í•˜ëŠ” íƒìƒ‰ ë°©í–¥ìœ¼ë¡œ ê°’ ëŒ€ì…ì„ í•˜ë©´ ë¨

<details>
<summary>ì†ŒìŠ¤ ì½”ë“œ</summary>
<div markdown="1">

```cpp
TreeNode* BST(int left, int right){
    if(left > right) return nullptr;

    int mid = (left + right) / 2;
    TreeNode* lNode = BST(left, mid-1);
    
    TreeNode* root = new TreeNode(cur->val);
    cur = cur->next;

    TreeNode* rNode = BST(mid+1, right);
    root->left = lNode;
    root->right = rNode;

    return root;
}
```

{: file=''}
</div>
</details>


## LeetCode(Hard)

> ### [ë¦¬íŠ¸ì½”ë“œ 315: Count of Smaller Numbers After Self](https://leetcode.com/problems/count-of-smaller-numbers-after-self)

ë¨¸ì§€ì†ŒíŠ¸ë¥¼ êµ¬í˜„í•˜ê³ , ë¨¸ì§€ì†ŒíŠ¸ë¥¼ í•˜ëŠ” ë„ì¤‘ì— ì›€ì§ì´ëŠ” íšŒìˆ˜ë¥¼ êµ¬í•¨
ê²°ê³¼ê°€ ëŠ¦ì–´ì„œ ë‹¤ë¥¸ í’€ì´ë¥¼ ì°¾ì•„ë³´ë‹ˆ ì—­ìˆœìœ¼ë¡œ insertion sortë¥¼ ì§„í–‰í•˜ë©´ì„œ ê°œìˆ˜ë¥¼ êµ¬í•¨

<details>
<summary>ì†ŒìŠ¤ ì½”ë“œ</summary>
<div markdown="1">

```cpp
vector<pair<int, int>> MergeSort(int left, int right, vector<pair<int, int>>& nums){
    if(left == right) return {nums[left]};

    int mid = (left+right)/2;
    auto l = MergeSort(left, mid, nums);
    auto r = MergeSort(mid+1, right, nums);

    int lidx = 0, ridx = 0;
    vector<pair<int, int>> ret;
    while(lidx < l.size() || ridx < r.size()){
        if(ridx < r.size() && (lidx >= l.size() || l[lidx] > r[ridx])){
            // smaller[idxs[r[ridx]]] += l.size() - lidx;
            ret.push_back(r[ridx++]);
        }else{
            smaller[l[lidx].second] += ridx;
            // cout << l[lidx].second << ' ' << ridx << '\n';
            ret.push_back(l[lidx++]);
        }
    }
    return ret;
}

--- ì†”ë£¨ì…˜
#include <vector>
#include <algorithm>

using namespace std;

class Solution {
public:
    vector<int> countSmaller(vector<int>& nums) {
        vector<int> result;
        vector<int> sorted;
        
        // Process from right to left â¬…ï¸
        for (int i = nums.size() - 1; i >= 0; --i) {
            // Find insertion position using binary search ğŸ”
            auto insert_pos = lower_bound(sorted.begin(), sorted.end(), nums[i]);
            int count = insert_pos - sorted.begin();
            result.push_back(count);
            // Insert into the sorted list to maintain order
            sorted.insert(insert_pos, nums[i]);
        }
        
        // Reverse to get the correct order ğŸ”„
        reverse(result.begin(), result.end());
        return result;
    }
};
```

{: file=''}
</div>
</details>



> ### [ë¦¬íŠ¸ì½”ë“œ 327: Count of Range Sum](https://leetcode.com/problems/count-of-range-sum)

ì—„ì²­ì–´ë ¤ì› ë‹¤
prefixë¥¼ êµ¬í•˜ê³ , prefixë°°ì—´ì„ ë¨¸ì§€ì†ŒíŠ¸í•˜ëŠ” ê³¼ì •ì—ì„œ ê°œìˆ˜ ì„¸ê¸°ë¡œ ë³€í˜•í•´ì„œ í’€ì–´ì•¼ í•˜ëŠ” ë¬¸ì œ
ië¥¼ ì›€ì§ì´ë©´ì„œ loweridxì™€ upperidxê°€ ì´ˆê¸°í™”ë˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¥ì ì´ì í•µì‹¬ìœ¼ë¡œ N^2ë¥¼ NlogNìœ¼ë¡œ ë§Œë“¤ì–´ì¤Œ

<details>
<summary>ì†ŒìŠ¤ ì½”ë“œ</summary>
<div markdown="1">


```cpp
class Solution {
public:
    int m_lower, m_upper;

    long long Counting(vector<long long>& sums, int left, int right) {
        if (left > right)
            return 0;
        if (left == right)
            return m_lower <= sums[left] && sums[left] <= m_upper;

        long long ret = 0;

        int mid = (left + right) / 2;
        ret += Counting(sums, left, mid);
        ret += Counting(sums, mid + 1, right);

        int lidx = left;
        long long loweridx = mid+1, upperidx = mid+1;
        while (lidx <= mid) {
            int i = lidx;
            long long lowerBound = m_lower + sums[i], upperBound = m_upper + sums[i];
            while(loweridx <= right && sums[loweridx] < lowerBound){
                loweridx++;
            }

            while(upperidx <= right && sums[upperidx] <= upperBound){
                upperidx++;
            }

            ret += (upperidx - loweridx);
            lidx++;
        }

        sort(sums.begin() + left, sums.begin() + right+1);

        return ret;
    }

    int countRangeSum(vector<int>& nums, int lower, int upper) {
        m_lower = lower;
        m_upper = upper;
        int N = nums.size();
        vector<long long> sums(N);
        sums[0] = nums[0];
        for (int i = 1; i < N; i++) {
            sums[i] = sums[i - 1] + nums[i];
        }

        return Counting(sums, 0, N - 1);
    }
};
```


{: file=''}
</div>
</details>

> ### [ë¦¬íŠ¸ì½”ë“œ 493: Reverse Pairs](https://leetcode.com/problems/reverse-pairs)

315, 327ì„ í•˜ë©´ì„œ ìµìˆ™í•´ì§
ë¨¸ì§€ì†ŒíŠ¸í•˜ë©´ì„œ ê°œìˆ˜ ì„¸ê¸°


