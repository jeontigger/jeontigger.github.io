# 🧠 C/C++ 전처리 단계(preprocessing) 설명 가능 면접 질문 리스트

## ✅ 기본 개념

1. 전처리 단계란 무엇인가요?

    - 전처리기가 작업을 수행하는 단계를 의미합니다. #키워드가 붙어있는 부분들이 전처리 명령입니다. 전처리기는 명령에 있는 부분에 부합하는 텍스트를 그대로 가져와서 결합합니다.

2. 전처리는 컴파일 과정의 어느 시점에서 수행되나요?

    - 프로그램의 컴파일 과정에서 가장 처음에 수행됩니다.

## ✅ 주요 역할

1. 전처리기가 수행하는 대표적인 작업에는 무엇이 있나요?

    - #include 와 #define이 있습니다.

2. #include는 전처리 단계에서 어떻게 처리되나요?

    - include 뒤에 있는 경로에 해당하는 파일을 그대로 가져와 복사합니다.

3. #define 매크로는 전처리 단계에서 어떻게 동작하나요?

    - 같은 매크로 변수가 호출되는 곳에 선언된 텍스트로 대치합니다.

## ✅ 조건부 컴파일

1. 조건부 컴파일이란 무엇인가요?

    - #if, #ifdef, #ifndef등이 있습니다.

2. #if, #ifdef, #ifndef는 언제 사용하나요?

    - 주로 헤더를 여러번 include해도 전처리단계에서 한 번만 복사하도록 사용됩니다. 또, 버전관리나 os환경에 맞춰 달라지는 함수들에 대응합니다.

## ✅ 매크로 관련 주의점

1. 매크로와 함수의 차이는 무엇인가요?

    - 매크로 함수는 작성된텍스트와 파라미터 위치가 그대로 대치됩니다. 따라서 inline 함수처럼 사용할수는 있지만, 텍스트를 그대로 대치하는 문제때문에 예기치 못한 오류가 발생할 수 있습니다.

2. 매크로 사용 시 발생할 수 있는 문제는 무엇인가요?

    - 텍스트가 대치됐을 때 의도하지 않은 텍스트가 완성될 수 있습니다.

## ✅ 헤더 가드

1. 헤더 가드(#ifndef/#define/#endif)는 왜 필요한가요?

    - 헤더의 복사가 한 번만 이뤄질 수 있도록 합니다.

2. #pragma once는 무엇이며 어떤 장단점이 있나요?

    - #ifndef, #define, #endif 를 하나의 구문으로 해결할 수 있습니다. 단점으로는 os에 따라 불가능할 수 있습니다.

## ✅ 전처리 결과

1. 전처리 결과물은 어떤 형태인가요?

    - 컴파일 단계에서 컴파일 하기 직전의 파일들로 만들어집니다.

2. 전처리 단계에서 타입 정보는 존재하나요?

    - 존재하지 않습니다.

<details>
<summary>GPT 1줄 답변</summary>
<div markdown="1">

## ?? 1줄 모범 답변

1. 컴파일 전에 소스 코드를 텍스트 단위로 변환하는 단계입니다.
2. 컴파일의 가장 앞 단계에서 수행됩니다.

3. 헤더 포함, 매크로 치환, 조건부 컴파일 처리입니다.
4. 해당 파일의 내용을 그대로 복사해 삽입합니다.
5. 단순한 텍스트 치환으로 처리됩니다.

6. 조건에 따라 코드 포함 여부를 결정하는 기법입니다.
7. 플랫폼, 빌드 옵션, 환경 분기에 사용합니다.

8. 매크로는 타입 검사와 스코프 개념이 없습니다.
9. 부작용, 디버깅 어려움, 우선순위 오류입니다.

10. 중복 포함으로 인한 재정의 오류를 막기 위해서입니다.
11. 중복 포함 방지를 단순화하지만 비표준입니다.

12. 하나의 확장된 소스 파일입니다.
13. 아니요, 타입 개념은 아직 없습니다.

</div>
</details>

## 📝 GPT 피드백

### ✅ 기본 개념

**질문 1: 전처리 단계란 무엇인가요?**
- **현재 답변**: "전처리기가 작업을 수행하는 단계를 의미합니다. #키워드가 붙어있는 부분들이 전처리 명령입니다. 전처리기는 명령에 있는 부분에 부합하는 텍스트를 그대로 가져와서 결합합니다."
- **피드백**:
  - ⚠️ **부정확**: 전처리 단계의 본질을 설명하지 못했습니다. "텍스트를 그대로 가져와서 결합"이라는 표현이 너무 모호합니다.
  - ✅ **정확한 답변**: "컴파일 전에 소스 코드를 텍스트 단위로 변환하는 단계입니다."
  - 💡 **보완**: 전처리기는 #include, #define 등의 지시자를 처리하여 하나의 확장된 소스 파일을 만드는 텍스트 변환 과정입니다.

**질문 2: 전처리는 컴파일 과정의 어느 시점에서 수행되나요?**
- **현재 답변**: "프로그램의 컴파일 과정에서 가장 처음에 수행됩니다."
- **피드백**:
  - 💡 **보완**: 정확하지만 "컴파일의 가장 앞 단계"라고 표현하면 더 명확합니다. 전처리는 컴파일 전에 완료되는 별도 단계입니다.

### ✅ 주요 역할

**질문 1: 전처리기가 수행하는 대표적인 작업에는 무엇이 있나요?**
- **현재 답변**: "#include 와 #define이 있습니다."
- **피드백**:
  - ⚠️ **부정확**: #include와 #define만 언급했지만, 조건부 컴파일도 중요한 전처리 작업입니다.
  - ✅ **정확한 답변**: "헤더 포함, 매크로 치환, 조건부 컴파일 처리입니다."
  - 💡 **보완**: 주요 작업으로는 #include(헤더 포함), #define(매크로 치환), #if/#ifdef/#ifndef(조건부 컴파일) 등이 있습니다.

**질문 2: #include는 전처리 단계에서 어떻게 처리되나요?**
- **현재 답변**: "include 뒤에 있는 경로에 해당하는 파일을 그대로 가져와 복사합니다."
- **피드백**:
  - 💡 **보완**: 정확하지만 "해당 파일의 내용을 그대로 복사해 삽입합니다"라고 표현하면 더 명확합니다. #include 위치에 파일 내용이 삽입됩니다.

**질문 3: #define 매크로는 전처리 단계에서 어떻게 동작하나요?**
- **현재 답변**: "같은 매크로 변수가 호출되는 곳에 선언된 텍스트로 대치합니다."
- **피드백**:
  - ⚠️ **부정확**: "매크로 변수"라는 표현이 부정확합니다. 매크로는 변수가 아닙니다.
  - ✅ **정확한 답변**: "단순한 텍스트 치환으로 처리됩니다."
  - 💡 **보완**: #define으로 정의된 매크로 이름이 사용된 곳에서 정의된 값이나 텍스트로 단순 치환됩니다.

### ✅ 조건부 컴파일

**질문 1: 조건부 컴파일이란 무엇인가요?**
- **현재 답변**: "#if, #ifdef, #ifndef등이 있습니다."
- **피드백**:
  - ❌ **오개념**: 질문은 "조건부 컴파일이란 무엇인가요?"인데, 답변은 조건부 컴파일 지시자만 나열했습니다. 개념 설명이 누락되었습니다.
  - ✅ **정확한 답변**: "조건에 따라 코드 포함 여부를 결정하는 기법입니다."
  - 💡 **보완**: #if, #ifdef, #ifndef 등의 지시자를 사용하여 조건에 따라 특정 코드 블록을 컴파일에 포함하거나 제외하는 기법입니다.

**질문 2: #if, #ifdef, #ifndef는 언제 사용하나요?**
- **현재 답변**: "주로 헤더를 여러번 include해도 전처리단계에서 한 번만 복사하도록 사용됩니다. 또, 버전관리나 os환경에 맞춰 달라지는 함수들에 대응합니다."
- **피드백**:
  - ⚠️ **부정확**: 헤더 가드 용도만 강조했지만, 더 넓은 용도가 있습니다.
  - ✅ **정확한 답변**: "플랫폼, 빌드 옵션, 환경 분기에 사용합니다."
  - 💡 **보완**: 헤더 가드 외에도 플랫폼별 코드 분기, 디버그/릴리즈 모드 분기, 기능 플래그 등에 사용됩니다.

### ✅ 매크로 관련 주의점

**질문 1: 매크로와 함수의 차이는 무엇인가요?**
- **현재 답변**: "매크로 함수는 작성된텍스트와 파라미터 위치가 그대로 대치됩니다. 따라서 inline 함수처럼 사용할수는 있지만, 텍스트를 그대로 대치하는 문제때문에 예기치 못한 오류가 발생할 수 있습니다."
- **피드백**:
  - ⚠️ **부정확**: 핵심 차이점인 타입 검사와 스코프 개념이 누락되었습니다.
  - ✅ **정확한 답변**: "매크로는 타입 검사와 스코프 개념이 없습니다."
  - 💡 **보완**: 매크로는 텍스트 치환이므로 타입 검사가 없고, 스코프 규칙을 따르지 않으며, 디버깅이 어렵습니다. 함수는 타입 검사, 스코프, 디버깅 지원 등의 장점이 있습니다.

**질문 2: 매크로 사용 시 발생할 수 있는 문제는 무엇인가요?**
- **현재 답변**: "텍스트가 대치됐을 때 의도하지 않은 텍스트가 완성될 수 있습니다."
- **피드백**:
  - ⚠️ **부정확**: 너무 모호한 설명입니다. 구체적인 문제 유형을 명시해야 합니다.
  - ✅ **정확한 답변**: "부작용, 디버깅 어려움, 우선순위 오류입니다."
  - 💡 **보완**: 
    - 부작용: 매크로 인자로 표현식을 전달할 때 여러 번 평가됨
    - 우선순위 오류: 매크로 치환 후 연산자 우선순위가 의도와 다를 수 있음
    - 디버깅 어려움: 매크로는 심볼 테이블에 없어 디버거에서 추적 불가
    - 타입 안전성 부족: 타입 검사 없이 치환됨

### ✅ 헤더 가드

**질문 1: 헤더 가드(#ifndef/#define/#endif)는 왜 필요한가요?**
- **현재 답변**: "헤더의 복사가 한 번만 이뤄질 수 있도록 합니다."
- **피드백**:
  - ⚠️ **부정확**: "왜 필요한가"에 대한 근본적인 이유가 누락되었습니다.
  - ✅ **정확한 답변**: "중복 포함으로 인한 재정의 오류를 막기 위해서입니다."
  - 💡 **보완**: 같은 헤더가 여러 번 include되면 함수, 변수, 타입 등의 재정의 오류가 발생합니다. 헤더 가드는 이를 방지합니다.

**질문 2: #pragma once는 무엇이며 어떤 장단점이 있나요?**
- **현재 답변**: "#ifndef, #define, #endif 를 하나의 구문으로 해결할 수 있습니다. 단점으로는 os에 따라 불가능할 수 있습니다."
- **피드백**:
  - ⚠️ **부정확**: "os에 따라 불가능"보다는 "비표준"이라는 표현이 더 정확합니다.
  - ✅ **정확한 답변**: "중복 포함 방지를 단순화하지만 비표준입니다."
  - 💡 **보완**: #pragma once는 컴파일러 지시자로, 헤더 가드를 간단하게 대체할 수 있지만 C/C++ 표준이 아닙니다. 대부분의 현대 컴파일러에서 지원하지만, 이식성이 떨어질 수 있습니다.

### ✅ 전처리 결과

**질문 1: 전처리 결과물은 어떤 형태인가요?**
- **현재 답변**: "컴파일 단계에서 컴파일 하기 직전의 파일들로 만들어집니다."
- **피드백**:
  - ⚠️ **부정확**: "파일들"이라는 복수형 표현이 부정확합니다. 일반적으로 하나의 확장된 소스 파일입니다.
  - ✅ **정확한 답변**: "하나의 확장된 소스 파일입니다."
  - 💡 **보완**: 전처리 후에는 모든 #include가 확장되고, 매크로가 치환된 하나의 큰 소스 파일이 생성됩니다. `gcc -E` 옵션으로 확인할 수 있습니다.

**질문 2: 전처리 단계에서 타입 정보는 존재하나요?**
- **현재 답변**: "존재하지 않습니다."
- **피드백**:
  - 💡 **보완**: 정확합니다. "타입 개념은 아직 없습니다"라고 표현하면 더 명확합니다. 전처리는 순수 텍스트 변환이므로 타입 정보는 컴파일 단계에서 생성됩니다.

### 📊 전체 평가

**강점:**
- 전처리 단계의 기본적인 흐름을 이해하고 있습니다.
- 헤더 가드의 목적을 알고 있습니다.
- 매크로의 텍스트 치환 특성을 이해하고 있습니다.

**개선 필요:**
- ❌ 조건부 컴파일의 개념 설명 누락 (질문에 대한 답변 대신 지시자만 나열)
- ⚠️ 전처리 단계의 본질 설명 부족 (텍스트 변환 단계라는 핵심이 누락)
- ⚠️ 매크로와 함수의 차이에서 타입 검사, 스코프 개념 누락
- ⚠️ 매크로 문제점 설명이 너무 모호함 (구체적 문제 유형 명시 필요)
- ⚠️ 전처리 결과물 표현 부정확 ("파일들" vs "하나의 파일")
- ⚠️ #pragma once의 비표준 특성 설명 부정확

**우선순위:**
1. **높음**: 조건부 컴파일의 개념 정의 (질문에 대한 직접적인 답변 필요)
2. **높음**: 전처리 단계의 본질 설명 (텍스트 변환 단계임을 명확히)
3. **중간**: 매크로와 함수의 차이 (타입 검사, 스코프 개념 추가)
4. **중간**: 매크로 문제점 구체화 (부작용, 우선순위 오류 등)
5. **낮음**: 표현 정확성 개선 (#pragma once 비표준, 전처리 결과물)

**특별 주의사항:**
- 전처리 단계는 컴파일 전에 수행되는 순수 텍스트 변환 과정입니다. 타입 정보가 없고, 단순 치환만 수행합니다.
- 매크로와 함수의 차이는 면접에서 자주 나오는 질문입니다. 타입 검사, 스코프, 디버깅 측면에서 명확히 구분해야 합니다.
- 헤더 가드와 #pragma once의 차이와 각각의 장단점을 명확히 이해해야 합니다.
