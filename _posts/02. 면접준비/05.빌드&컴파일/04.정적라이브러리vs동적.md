# 🧠 C/C++ 정적 라이브러리 vs 동적 라이브러리 차이 면접 질문 리스트

## ✅ 기본 개념

1. 정적 라이브러리란 무엇인가요?

    - 정적 라이브러리란 프로세스가 로드 될 때 같이 메모리에 로드되며, 시작될 때 로드 된 메모리가 프로그램 종료시까지 유지되며, 프로그램마다 별도의 메모리 공간을 차지하는 라이브러리 시스템입니다.

2. 동적 라이브러리란 무엇인가요?

    - 동적 라이브러리란 프로세스가 로드된 후 사용하고 싶을 때 로드, 언로드가 가능하고 같은 동적 라이브러리를 사용하는 프로세스가 여러개 있다면 메모리에서 하나의 라이브러리 메모리 공간만 차지하고 심볼을 연결해서 사용하는 라이브러리 시스템입니다.

## ✅ 링크 시점 차이

1. 정적 라이브러리는 언제 링크되나요?

    - 링킹 과정에서 링크됩니다.

2. 동적 라이브러리는 언제 링크되나요?

    - 프로세스 내에서 링킹 함수가 호출될 때 링크 됩니다.

## ✅ 실행 파일 관점

1. 실행 파일 크기는 어떻게 달라지나요?

    - 정적 라이브러리는 실행파일이 동적 라이브러리를 사용하는 것보다 커집니다.

2. 라이브러리 파일이 실행 시 반드시 필요하나요?

    - 별도의 라이브러리 파일이 필요하지 않습니다.

## ✅ 메모리 사용

1. 여러 프로세스가 동일 라이브러리를 사용할 때 메모리 사용은 어떻게 되나요?

    - 정적 라이브러리라면 여러 프로세스가 동일 라이브러리를 사용한다면 각자의 프로세스가 저마다의 라이브러리 메모리를 로드하게 됩니다. 동적 라이브러리라면 하나의 메모리 공간을 공유하여 사용하게 됩니다.

2. 동적 라이브러리가 메모리 효율적인 이유는 무엇인가요?

    - 여러 프로세스가공유하여 링크하기 때문에 메모리 효율적입니다.

## ✅ 배포 / 유지보수

1. 라이브러리 업데이트 시 재빌드가 필요한 것은 무엇인가요?

    - 실행프로그램 자체가 다시 링크되어 만들어져야하기 때문입니다. 동적 라이브러리라면 API가 달라지지 않는다면 반드시 재빌드가 필요한 것은 아닙니다.

2. 동적 라이브러리 배포 시 주의할 점은 무엇인가요?

    - 동적 라이브러리를 별도로 배포해야 합니다. 또, 라이브러리의 위치가 변경되어서는 안됩니다.

## ✅ 성능 관점

1. 성능 차이는 왜 발생하나요?

    - 정적라이브러리가 심볼테이블을 한 번 더 참조할 필요 없이 컴파일 타임에 링킹되기 때문에 성능이 빠르다고 볼 수 있습니다.

## ✅ 사용 판단

1. 어떤 경우에 정적 라이브러리를 사용하는 것이 적절한가요?

    - 라이브러리의 크기가 작거나, 여러 프로그램이 동시에 사용할 확률이 낮고, 성능적인 요소가 중요할 때 정적 라이브러리를 사용하는 것이 권장되고, 라이브러리의 크기가 크거나 여러 프로그램이 동시에 사용할 확률이 높고, 성능적인 요소가 넉넉할 때 동적 라이브러리를 사용하는 것이 권장됩니다.

## ✅ 요약 질문

1. 정적 라이브러리와 동적 라이브러리의 차이를 한 문장으로 요약해보세요.

    - 정적 라이브러리는 실행파일에 포함되어 별도의 파일이 필요 없으며, 프로그램의 생명주기와 라이브러리의 생명주기가 일치하여 메모리를 사용합니다. 동적 라이브러리는 실행파일 이외에 별도의 파일이 필요하고, 메모리 공간을 여러 프로세스가 공유하기 때문에 메모리 효율성이 좋습니다. 로드와 언로드 시기도 프로그램 내에서 제어 가능합니다.

<details>
<summary>GPT 1줄 답변</summary>
<div markdown="1">

## ?? 1줄 모범 답변

1. 컴파일 시 실행 파일에 포함되는 라이브러리입니다.
2. 실행 시 로드되어 참조되는 라이브러리입니다.

3. 링크 단계에서 실행 파일에 결합됩니다.
4. 실행 시 또는 로드 시점에 결합됩니다.

5. 정적 라이브러리가 더 커집니다.
6. 동적 라이브러리는 실행 시 필요합니다.

7. 정적은 프로세스마다 복사되고, 동적은 공유됩니다.
8. 코드 영역을 여러 프로세스가 공유하기 때문입니다.

9. 정적 라이브러리는 재빌드가 필요합니다.
10. 버전 호환성과 배포 경로 관리입니다.

11. 동적은 간접 호출과 로딩 비용이 있습니다.
12. 직접 호출과 최적화가 가능하기 때문입니다.

13. 단일 배포, 의존성 최소화가 중요할 때입니다.
14. 공용 라이브러리, 플러그인 구조일 때입니다.

15. 정적은 "포함", 동적은 "공유"입니다.

</div>
</details>

## 📝 GPT 피드백

### ✅ 기본 개념

**질문 1: 정적 라이브러리란 무엇인가요?**
- **현재 답변**: "정적 라이브러리란 프로세스가 로드 될 때 같이 메모리에 로드되며, 시작될 때 로드 된 메모리가 프로그램 종료시까지 유지되며, 프로그램마다 별도의 메모리 공간을 차지하는 라이브러리 시스템입니다."
- **피드백**:
  - ⚠️ **부정확**: 정적 라이브러리의 핵심 특징인 "컴파일/링크 시점에 실행 파일에 포함"이 누락되었습니다. 메모리 로드 시점에 대한 설명은 정적 라이브러리의 본질을 설명하지 못합니다.
  - ✅ **정확한 답변**: "컴파일 시 실행 파일에 포함되는 라이브러리입니다."
  - 💡 **보완**: 정적 라이브러리는 링크 단계에서 실행 파일에 직접 포함되어 하나의 실행 파일이 됩니다. 따라서 실행 시 별도의 라이브러리 파일이 필요 없습니다.

**질문 2: 동적 라이브러리란 무엇인가요?**
- **현재 답변**: "동적 라이브러리란 프로세스가 로드된 후 사용하고 싶을 때 로드, 언로드가 가능하고 같은 동적 라이브러리를 사용하는 프로세스가 여러개 있다면 메모리에서 하나의 라이브러리 메모리 공간만 차지하고 심볼을 연결해서 사용하는 라이브러리 시스템입니다."
- **피드백**:
  - ⚠️ **부정확**: "프로세스가 로드된 후 사용하고 싶을 때 로드"라는 설명이 부정확합니다. 대부분의 동적 라이브러리는 프로세스 시작 시 자동으로 로드됩니다(implicit linking). 명시적 로드(dlopen 등)는 선택 사항입니다.
  - ✅ **정확한 답변**: "실행 시 로드되어 참조되는 라이브러리입니다."
  - 💡 **보완**: 동적 라이브러리는 실행 파일과 분리되어 있으며, 실행 시점에 메모리에 로드됩니다. 여러 프로세스가 같은 라이브러리를 공유할 수 있어 메모리 효율적입니다.

### ✅ 링크 시점 차이

**질문 1: 정적 라이브러리는 언제 링크되나요?**
- **현재 답변**: "링킹 과정에서 링크됩니다."
- **피드백**:
  - 💡 **보완**: 정확하지만 "링크 단계에서 실행 파일에 결합됩니다"라고 표현하면 더 명확합니다.

**질문 2: 동적 라이브러리는 언제 링크되나요?**
- **현재 답변**: "프로세스 내에서 링킹 함수가 호출될 때 링크 됩니다."
- **피드백**:
  - ⚠️ **부정확**: "링킹 함수가 호출될 때"라는 설명이 부정확합니다. 대부분의 동적 라이브러리는 프로세스 시작 시 자동으로 링크됩니다(implicit linking). 명시적 로드(dlopen/LoadLibrary)는 특수한 경우입니다.
  - ✅ **정확한 답변**: "실행 시 또는 로드 시점에 결합됩니다."
  - 💡 **보완**: 동적 라이브러리는 보통 프로세스 시작 시 자동으로 로드되고 링크됩니다. 필요에 따라 런타임에 동적으로 로드할 수도 있습니다.

### ✅ 실행 파일 관점

**질문 1: 실행 파일 크기는 어떻게 달라지나요?**
- **현재 답변**: "정적 라이브러리는 실행파일이 동적 라이브러리를 사용하는 것보다 커집니다."
- **피드백**:
  - ⚠️ **부정확**: 문장 구조가 애매합니다. "정적 라이브러리를 사용하는 실행 파일이 동적 라이브러리를 사용하는 실행 파일보다 커집니다"가 정확합니다.
  - ✅ **정확한 답변**: "정적 라이브러리가 더 커집니다."
  - 💡 **보완**: 정적 라이브러리는 실행 파일에 포함되므로 실행 파일 크기가 커집니다. 동적 라이브러리는 실행 파일과 분리되어 있어 실행 파일 크기가 작습니다.

**질문 2: 라이브러리 파일이 실행 시 반드시 필요하나요?**
- **현재 답변**: "별도의 라이브러리 파일이 필요하지 않습니다."
- **피드백**:
  - ⚠️ **부정확**: 질문이 "라이브러리 파일이 실행 시 반드시 필요하나요?"인데, 정적/동적 중 어느 것을 말하는지 명시하지 않았습니다. 정적 라이브러리는 필요 없고, 동적 라이브러리는 필요합니다.
  - ✅ **정확한 답변**: "동적 라이브러리는 실행 시 필요합니다."
  - 💡 **보완**: 정적 라이브러리는 실행 파일에 포함되어 있으므로 별도 파일이 필요 없습니다. 동적 라이브러리는 실행 시 별도의 .dll/.so 파일이 필요합니다.

### ✅ 메모리 사용

**질문 1: 여러 프로세스가 동일 라이브러리를 사용할 때 메모리 사용은 어떻게 되나요?**
- **현재 답변**: "정적 라이브러리라면 여러 프로세스가 동일 라이브러리를 사용한다면 각자의 프로세스가 저마다의 라이브러리 메모리를 로드하게 됩니다. 동적 라이브러리라면 하나의 메모리 공간을 공유하여 사용하게 됩니다."
- **피드백**:
  - 💡 **보완**: 정확하지만 "정적은 프로세스마다 복사되고, 동적은 공유됩니다"라고 간결하게 표현할 수 있습니다. 동적 라이브러리는 물리 메모리의 코드 영역을 여러 프로세스가 공유합니다.

**질문 2: 동적 라이브러리가 메모리 효율적인 이유는 무엇인가요?**
- **현재 답변**: "여러 프로세스가공유하여 링크하기 때문에 메모리 효율적입니다."
- **피드백**:
  - ⚠️ **부정확**: "공유하여 링크"라는 표현이 부정확합니다. "코드 영역을 공유"하는 것이 정확합니다.
  - ✅ **정확한 답변**: "코드 영역을 여러 프로세스가 공유하기 때문입니다."
  - 💡 **보완**: 동적 라이브러리의 코드 영역은 읽기 전용이므로 여러 프로세스가 같은 물리 메모리 페이지를 공유할 수 있습니다. 정적 라이브러리는 각 프로세스마다 별도로 메모리에 로드됩니다.

### ✅ 배포 / 유지보수

**질문 1: 라이브러리 업데이트 시 재빌드가 필요한 것은 무엇인가요?**
- **현재 답변**: "실행프로그램 자체가 다시 링크되어 만들어져야하기 때문입니다. 동적 라이브러리라면 API가 달라지지 않는다면 반드시 재빌드가 필요한 것은 아닙니다."
- **피드백**:
  - ⚠️ **부정확**: 질문이 "재빌드가 필요한 것은 무엇인가요?"인데, 정적/동적 중 어느 것을 말하는지 명시하지 않았습니다. 정적 라이브러리 업데이트 시에는 실행 파일을 재빌드해야 합니다.
  - ✅ **정확한 답변**: "정적 라이브러리는 재빌드가 필요합니다."
  - 💡 **보완**: 정적 라이브러리가 업데이트되면 실행 파일을 재빌드해야 합니다. 동적 라이브러리는 API 호환성이 유지되면 실행 파일 재빌드 없이 라이브러리만 교체할 수 있습니다.

**질문 2: 동적 라이브러리 배포 시 주의할 점은 무엇인가요?**
- **현재 답변**: "동적 라이브러리를 별도로 배포해야 합니다. 또, 라이브러리의 위치가 변경되어서는 안됩니다."
- **피드백**:
  - ⚠️ **부정확**: "위치가 변경되어서는 안된다"는 설명이 부정확합니다. 동적 링커가 라이브러리를 찾을 수 있는 경로에 있으면 됩니다.
  - ✅ **정확한 답변**: "버전 호환성과 배포 경로 관리입니다."
  - 💡 **보완**: 동적 라이브러리는 별도로 배포해야 하며, 라이브러리 검색 경로(LD_LIBRARY_PATH, 시스템 라이브러리 디렉토리 등)에 있어야 합니다. 버전 호환성도 중요합니다.

### ✅ 성능 관점

**질문 1: 성능 차이는 왜 발생하나요?**
- **현재 답변**: "정적라이브러리가 심볼테이블을 한 번 더 참조할 필요 없이 컴파일 타임에 링킹되기 때문에 성능이 빠르다고 볼 수 있습니다."
- **피드백**:
  - ⚠️ **부정확**: "심볼테이블을 한 번 더 참조"라는 설명이 부정확합니다. 동적 라이브러리는 간접 호출(PLT/GOT를 통한)과 로딩 비용이 있습니다.
  - ✅ **정확한 답변**: "동적은 간접 호출과 로딩 비용이 있습니다."
  - 💡 **보완**: 
    - 정적 라이브러리: 직접 호출, 컴파일 타임 최적화 가능, 인라인화 가능
    - 동적 라이브러리: 간접 호출(PLT/GOT), 로딩 비용, 컴파일 타임 최적화 제한

**질문 2: 어떤 경우에 정적 라이브러리를 사용하는 것이 적절한가요?**
- **현재 답변**: "라이브러리의 크기가 작거나, 여러 프로그램이 동시에 사용할 확률이 낮고, 성능적인 요소가 중요할 때 정적 라이브러리를 사용하는 것이 권장되고, 라이브러리의 크기가 크거나 여러 프로그램이 동시에 사용할 확률이 높고, 성능적인 요소가 넉넉할 때 동적 라이브러리를 사용하는 것이 권장됩니다."
- **피드백**:
  - ⚠️ **부정확**: 질문은 "정적 라이브러리를 사용하는 것이 적절한 경우"만 물었는데, 동적 라이브러리 사용 경우도 함께 설명했습니다. 또한 핵심 판단 기준이 누락되었습니다.
  - ✅ **정확한 답변**: "단일 배포, 의존성 최소화가 중요할 때입니다."
  - 💡 **보완**: 정적 라이브러리는 다음 경우에 적절합니다:
    - 단일 실행 파일로 배포하고 싶을 때 (의존성 최소화)
    - 성능이 중요한 경우 (직접 호출, 최적화 가능)
    - 라이브러리가 작고 여러 프로세스가 공유할 필요가 없을 때
  - 동적 라이브러리는 공용 라이브러리, 플러그인 구조, 메모리 효율이 중요할 때 사용합니다.

### ✅ 요약 질문

**질문 1: 정적 라이브러리와 동적 라이브러리의 차이를 한 문장으로 요약해보세요.**
- **현재 답변**: "정적 라이브러리는 실행파일에 포함되어 별도의 파일이 필요 없으며, 프로그램의 생명주기와 라이브러리의 생명주기가 일치하여 메모리를 사용합니다. 동적 라이브러리는 실행파일 이외에 별도의 파일이 필요하고, 메모리 공간을 여러 프로세스가 공유하기 때문에 메모리 효율성이 좋습니다. 로드와 언로드 시기도 프로그램 내에서 제어 가능합니다."
- **피드백**:
  - ⚠️ **부정확**: "한 문장으로 요약"이라는 요구사항을 충족하지 못했습니다. 여러 문장으로 나뉘어 있습니다.
  - ✅ **정확한 답변**: "정적은 '포함', 동적은 '공유'입니다."
  - 💡 **보완**: 정적 라이브러리는 링크 시 실행 파일에 포함되고, 동적 라이브러리는 실행 시 여러 프로세스가 공유합니다. 핵심은 "포함" vs "공유"입니다.

### 📊 전체 평가

**강점:**
- 정적/동적 라이브러리의 기본 개념을 이해하고 있습니다.
- 메모리 공유에 대한 이해가 있습니다.
- 배포와 유지보수 측면을 고려하고 있습니다.

**개선 필요:**
- ❌ 정적 라이브러리 정의에서 핵심 특징 누락 (컴파일/링크 시점 포함)
- ❌ 동적 라이브러리 로드 시점 설명 부정확 (대부분 자동 로드)
- ⚠️ 실행 파일 크기 설명 문장 구조 애매
- ⚠️ 라이브러리 파일 필요성 질문에 대한 답변 불명확 (정적/동적 구분 없음)
- ⚠️ 동적 라이브러리 메모리 효율성 설명 부정확 ("공유하여 링크" vs "코드 영역 공유")
- ⚠️ 재빌드 필요성 질문에 대한 답변 불명확 (정적/동적 구분 없음)
- ⚠️ 성능 차이 설명 부정확 ("심볼테이블 참조" vs "간접 호출, 로딩 비용")
- ⚠️ 정적 라이브러리 사용 판단 기준 설명 부족 (단일 배포, 의존성 최소화)
- ⚠️ 요약 질문이 한 문장이 아님

**우선순위:**
1. **높음**: 정적/동적 라이브러리의 핵심 정의 수정 (컴파일 시 포함 vs 실행 시 로드)
2. **높음**: 동적 라이브러리 로드 시점 설명 수정 (자동 로드 vs 명시적 로드)
3. **중간**: 성능 차이 설명 수정 (간접 호출, 로딩 비용)
4. **중간**: 질문에 대한 답변 명확화 (정적/동적 구분)
5. **낮음**: 표현 정확성 개선 (코드 영역 공유, 배포 경로 등)

**특별 주의사항:**
- 정적 라이브러리는 링크 시점에 실행 파일에 포함됩니다. "컴파일 시 포함"이 핵심입니다.
- 동적 라이브러리는 대부분 프로세스 시작 시 자동으로 로드됩니다(implicit linking). 명시적 로드(dlopen)는 특수한 경우입니다.
- 동적 라이브러리의 메모리 효율성은 코드 영역의 물리적 공유에서 나옵니다. 여러 프로세스가 같은 물리 메모리 페이지를 공유합니다.
- 정적 라이브러리는 단일 배포와 의존성 최소화에 유리합니다. 동적 라이브러리는 메모리 효율과 업데이트 용이성에 유리합니다.
- 성능 차이는 동적 라이브러리의 간접 호출(PLT/GOT)과 로딩 비용에서 발생합니다.
