# 🧠 TCP 4-way Handshake 설명 가능 면접 질문 리스트

## ✅ 기본 개념

1. TCP 4-way handshake란 무엇인가요?
2. TCP는 왜 연결 종료 과정이 필요한가요?

## ✅ 단계별 이해 (핵심)

1. 4-way handshake의 전체 흐름을 설명해보세요.
2. FIN 패킷의 역할은 무엇인가요?
3. FIN-ACK 패킷의 역할은 무엇인가요?
4. 마지막 ACK 패킷의 역할은 무엇인가요?

## ✅ 3-way와의 차이

1. 3-way handshake와 4-way handshake의 차이는 무엇인가요?
2. 왜 연결 종료는 4단계가 필요한가요?

## ✅ TIME_WAIT 상태

1. TIME_WAIT 상태란 무엇인가요?
2. TIME_WAIT 상태가 필요한 이유는 무엇인가요?
3. TIME_WAIT 상태는 얼마나 지속되나요?

## ✅ 양방향 종료

1. 왜 양방향으로 각각 종료 신호를 보내야 하나요?
2. 한쪽만 FIN을 보내면 안 되는 이유는 무엇인가요?

## ✅ 오류 / 예외 상황

1. FIN 패킷이 손실되면 어떻게 되나요?
2. TIME_WAIT 상태에서 발생할 수 있는 문제는 무엇인가요?

## ✅ 실무 / 성능 관점

1. TIME_WAIT 상태가 서버 성능에 미치는 영향은 무엇인가요?
2. TIME_WAIT 상태를 줄이는 방법은 무엇인가요?

## ✅ 요약 질문

1. TCP 4-way handshake를 한 문장으로 요약해보세요.

<details>
<summary>GPT 1줄 답변</summary>
<div markdown="1">

## 📝 모범 답변

### ✅ 기본 개념

1. TCP 연결을 종료하기 위한 4단계 패킷 교환 과정입니다.
2. 양방향 통신을 안전하게 종료하고 리소스를 정리하기 위해서입니다.

### ✅ 단계별 이해 (핵심)

3. 한쪽이 FIN 전송 → 상대가 FIN-ACK 응답 → 상대도 FIN 전송 → 마지막 ACK 전송입니다.
4. 연결 종료 요청을 전달합니다.
5. 종료 요청을 수락하고 자신도 종료 준비를 시작합니다.
6. 종료 확인을 하고 연결을 완전히 종료합니다.

### ✅ 3-way와의 차이

7. 3-way는 연결 설정, 4-way는 연결 종료입니다.
8. 양방향으로 각각 독립적으로 종료해야 하기 때문입니다.

### ✅ TIME_WAIT 상태

9. 마지막 ACK를 보낸 후 일정 시간 대기하는 상태입니다.
10. 지연된 패킷이 도착할 수 있으므로 완전 종료를 보장하기 위해서입니다.
11. 보통 2MSL(Maximum Segment Lifetime) 시간, 약 1-4분입니다.

### ✅ 양방향 종료

12. TCP는 양방향 통신이므로 각 방향을 독립적으로 종료해야 합니다.
13. 한쪽만 종료하면 반대 방향 데이터가 계속 도착할 수 있기 때문입니다.

### ✅ 오류 / 예외 상황

14. 타임아웃 후 재전송하거나 강제 종료됩니다.
15. 포트가 재사용되지 못해 새로운 연결이 실패할 수 있습니다.

### ✅ 실무 / 성능 관점

16. 포트가 일시적으로 재사용 불가능해 연결 수가 제한될 수 있습니다.
17. SO_REUSEADDR 옵션 사용, 연결 풀링, 적절한 타임아웃 설정입니다.

### ✅ 요약 질문

18. TCP 4-way handshake는 "양방향 연결을 안전하게 종료하는 4단계 과정"입니다.

</div>
</details>
