# 🧠 PCB / TCB 구조 개념 설명 가능 면접 질문 리스트

## ✅ 기본 개념

1. PCB(Process Control Block)란 무엇인가요?

    - pcb는 프로세스간에 컨텍스트 스위칭이 발생할 때 이전의 실행흐름을 유지할 수 있는 정보들을 담고있는 데이터 입니다.

2. TCB(Thread Control Block)란 무엇인가요?

    - tcb는 스레드간에 컨텍스트 스위칭이 발생할 때 이전의 실행흐름을 유지할 수 있는 정보들을 담고있는 데이터 입니다.

3. PCB와 TCB를 분리해서 관리하는 이유는 무엇인가요?

    - 프로세스간의 컨텍스트 스위칭을 위해서는 메모리 공간 전환 자체가 필요하기 때문에 상대적으로 많은 정보가 필요합니다. 그러나 스레드간의 컨텍스트 스위칭을 위해서는 실행흐름을 전환하기 위한 정보만 있으면 되어서 레지스터 상태나 스택 정보 등이 들어있습니다. 따라서 분리관리하여 스위칭시 비용을 줄이기 위함입니다.

## ✅ 포함 정보 (핵심)

1. PCB에는 어떤 정보들이 저장되나요?

    - 가상 메모리 정보, 프로그램 카운터, 스택과 레지스터 상태 등을 저장합니다.

2. TCB에는 어떤 정보들이 저장되나요?

    - 스택과 레지스터 상태만 저장합니다.

3. PCB와 TCB에 공통적으로 포함되는 정보는 무엇인가요?

    - 스택과 레지스터 상태를 저장합니다. 이것이 실행흐름을 분리하는 단위이기 때문입니다.

## ✅ 프로세스 / 스레드 관계

1. 하나의 프로세스에는 PCB와 TCB가 몇 개 존재하나요?

    - 하나의 프로세스는 하나의 PCB와 스레드 개수만큼의 TCB가 존재합니다.

2. 멀티스레드 프로세스에서 PCB와 TCB의 관계를 설명해보세요.

    - 프로세스가 컨텍스트 스위칭이 발생할 때는 PCB를 사용하고, 프로세스 동작 내에서 스레드의 스위칭이 발생해야한다면 TCB를 사용하게 됩니다.

## ✅ 메모리 / 자원 관리

1. 가상 메모리 정보는 PCB와 TCB 중 어디에 저장되나요?

    - PCB에 저장됩니다. 프로세스 단위로 가상 메모리를 전환하기 때문입니다.

2. 파일 디스크립터 정보는 어디에 저장되나요?

    - 파일 디스크립터 정보도 PCB에 저장됩니다. 이 또한 프로세스 단위로 필요하기 때문입니다.

## ✅ 설계 판단

1. PCB와 TCB 분리가 성능에 어떤 이점을 주나요?

    - 스레드간의 컨텍스트 스위칭이 발생할 때 PCB라는 무거운 데이터를 변경할 필요가 없어집니다.

2. 사용자 레벨 스레드 라이브러리에서도 TCB 개념이 필요한 이유는 무엇인가요?

## ✅ 요약 질문

1. PCB와 TCB 구조를 한 문장으로 요약해보세요.

    - PCB는 프로세스간에 컨텍스트 스위칭이 발생할 때 요구되는 정보들을 저장하고 TCB는 스레드간에 컨텍스트 스위칭이 발생할 떄 요구되는 정보들을 저장합니다.

<details>
<summary>GPT 1줄 답변</summary>
<div markdown="1">

## 📝 모범 답변

### ✅ 기본 개념

1. 프로세스의 상태와 자원 정보를 담는 OS 커널의 자료구조입니다.
2. 스레드의 실행 상태와 컨텍스트 정보를 담는 자료구조입니다.
3. 프로세스별 정보와 스레드별 정보를 효율적으로 분리 관리하기 위해서입니다.

### ✅ 포함 정보 (핵심)

4. 프로세스 ID, 상태, 메모리 정보, 파일 디스크립터, 스케줄링 정보입니다.
5. 스레드 ID, 레지스터 상태, 스택 포인터, 우선순위, 실행 상태입니다.
6. 스케줄링 정보, 우선순위, 실행 상태 같은 실행 관련 정보입니다.

### ✅ 프로세스 / 스레드 관계

7. PCB는 프로세스당 1개, TCB는 스레드당 1개입니다.
8. 하나의 PCB가 여러 TCB를 가리키며, TCB는 자신의 PCB를 참조합니다.

### ✅ 메모리 / 자원 관리

11. PCB에 저장되며 프로세스 전체가 공유합니다.
12. PCB에 저장되며 프로세스 내 모든 스레드가 공유합니다.

### ✅ 설계 판단

13. 스레드 스위칭 시 불필요한 정보를 건드리지 않아 비용이 줄어듭니다.
14. 스레드 상태와 컨텍스트를 추적하고 관리하기 위해서입니다.

### ✅ 요약 질문

15. PCB는 "프로세스 정보", TCB는 "스레드 실행 정보"를 담는 구조입니다.

</div>
</details>

## 📝 GPT 피드백

### ✅ 기본 개념

**질문 1: PCB(Process Control Block)란 무엇인가요?**
- **현재 답변**: "pcb는 프로세스간에 컨텍스트 스위칭이 발생할 때 이전의 실행흐름을 유지할 수 있는 정보들을 담고있는 데이터 입니다."
- **피드백**:
  - ⚠️ **부정확**: "데이터"보다는 "OS 커널의 자료구조"가 더 정확합니다. 또한 "이전의 실행흐름을 유지"보다는 "프로세스의 상태와 자원 정보"가 더 포괄적입니다.
  - ✅ **정확한 답변**: "프로세스의 상태와 자원 정보를 담는 OS 커널의 자료구조입니다."
  - 💡 **보완**: PCB는 운영체제 커널이 프로세스를 관리하기 위해 사용하는 자료구조로, 프로세스의 상태, 자원 정보, 스케줄링 정보 등을 포함합니다.

**질문 2: TCB(Thread Control Block)란 무엇인가요?**
- **현재 답변**: "tcb는 스레드간에 컨텍스트 스위칭이 발생할 때 이전의 실행흐름을 유지할 수 있는 정보들을 담고있는 데이터 입니다."
- **피드백**:
  - ⚠️ **부정확**: "데이터"보다는 "자료구조"가 더 정확합니다. 또한 "이전의 실행흐름을 유지"보다는 "스레드의 실행 상태와 컨텍스트 정보"가 더 포괄적입니다.
  - ✅ **정확한 답변**: "스레드의 실행 상태와 컨텍스트 정보를 담는 자료구조입니다."
  - 💡 **보완**: TCB는 스레드의 실행 상태와 컨텍스트 정보를 담는 자료구조로, 레지스터 상태, 스택 포인터, 우선순위 등을 포함합니다.

**질문 3: PCB와 TCB를 분리해서 관리하는 이유는 무엇인가요?**
- **현재 답변**: "프로세스간의 컨텍스트 스위칭을 위해서는 메모리 공간 전환 자체가 필요하기 때문에 상대적으로 많은 정보가 필요합니다. 그러나 스레드간의 컨텍스트 스위칭을 위해서는 실행흐름을 전환하기 위한 정보만 있으면 되어서 레지스터 상태나 스택 정보 등이 들어있습니다. 따라서 분리관리하여 스위칭시 비용을 줄이기 위함입니다."
- **피드백**:
  - 💡 **보완**: 정확합니다. "프로세스별 정보와 스레드별 정보를 효율적으로 분리 관리하기 위해서입니다"라고 간결하게 표현할 수 있습니다.

### ✅ 포함 정보 (핵심)

**질문 1: PCB에는 어떤 정보들이 저장되나요?**
- **현재 답변**: "가상 메모리 정보, 프로그램 카운터, 스택과 레지스터 상태 등을 저장합니다."
- **피드백**:
  - ⚠️ **부정확**: 프로그램 카운터, 스택, 레지스터 상태는 TCB에도 포함됩니다. PCB에만 있는 정보를 명시해야 합니다.
  - ✅ **정확한 답변**: "프로세스 ID, 상태, 메모리 정보, 파일 디스크립터, 스케줄링 정보입니다."
  - 💡 **보완**: PCB에는 프로세스 고유 정보인 프로세스 ID, 프로세스 상태, 메모리 관리 정보(페이지 테이블), 파일 디스크립터 테이블, 스케줄링 정보(우선순위, 타임 슬라이스) 등이 저장됩니다. 프로그램 카운터, 스택, 레지스터는 실행 중인 스레드의 TCB에 저장됩니다.

**질문 2: TCB에는 어떤 정보들이 저장되나요?**
- **현재 답변**: "스택과 레지스터 상태만 저장합니다."
- **피드백**:
  - ⚠️ **부정확**: "만"이라는 표현이 부정확합니다. 스레드 ID, 우선순위, 실행 상태 등도 포함됩니다.
  - ✅ **정확한 답변**: "스레드 ID, 레지스터 상태, 스택 포인터, 우선순위, 실행 상태입니다."
  - 💡 **보완**: TCB에는 스레드 ID, 레지스터 상태(프로그램 카운터, 범용 레지스터 등), 스택 포인터, 우선순위, 실행 상태 등이 저장됩니다.

**질문 3: PCB와 TCB에 공통적으로 포함되는 정보는 무엇인가요?**
- **현재 답변**: "스택과 레지스터 상태를 저장합니다. 이것이 실행흐름을 분리하는 단위이기 때문입니다."
- **피드백**:
  - ⚠️ **부정확**: 스택과 레지스터 상태는 TCB에만 있습니다. PCB에는 프로세스 레벨 정보가 있습니다. 공통 정보는 스케줄링 정보, 우선순위, 실행 상태 등입니다.
  - ✅ **정확한 답변**: "스케줄링 정보, 우선순위, 실행 상태 같은 실행 관련 정보입니다."
  - 💡 **보완**: PCB와 TCB 모두 스케줄링 정보(우선순위, 타임 슬라이스), 실행 상태 등을 포함합니다. 하지만 스택과 레지스터 상태는 TCB에만 있습니다.

### ✅ 프로세스 / 스레드 관계

**질문 1: 하나의 프로세스에는 PCB와 TCB가 몇 개 존재하나요?**
- **현재 답변**: "하나의 프로세스는 하나의 PCB와 스레드 개수만큼의 TCB가 존재합니다."
- **피드백**:
  - 💡 **보완**: 정확합니다. "PCB는 프로세스당 1개, TCB는 스레드당 1개입니다"라고 표현하면 더 명확합니다.

**질문 2: 멀티스레드 프로세스에서 PCB와 TCB의 관계를 설명해보세요.**
- **현재 답변**: "프로세스가 컨텍스트 스위칭이 발생할 때는 PCB를 사용하고, 프로세스 동작 내에서 스레드의 스위칭이 발생해야한다면 TCB를 사용하게 됩니다."
- **피드백**:
  - ⚠️ **부정확**: 사용 시점만 언급했지만, 구조적 관계(하나의 PCB가 여러 TCB를 가리킴)를 설명해야 합니다.
  - ✅ **정확한 답변**: "하나의 PCB가 여러 TCB를 가리키며, TCB는 자신의 PCB를 참조합니다."
  - 💡 **보완**: 멀티스레드 프로세스에서 하나의 PCB가 여러 TCB를 가리키는 구조입니다. TCB는 자신이 속한 프로세스의 PCB를 참조하여 프로세스 레벨 자원(메모리, 파일 디스크립터 등)에 접근합니다.

### ✅ 메모리 / 자원 관리

**질문 1: 가상 메모리 정보는 PCB와 TCB 중 어디에 저장되나요?**
- **현재 답변**: "PCB에 저장됩니다. 프로세스 단위로 가상 메모리를 전환하기 때문입니다."
- **피드백**:
  - 💡 **보완**: 정확합니다. "PCB에 저장되며 프로세스 전체가 공유합니다"라고 표현하면 더 명확합니다.

**질문 2: 파일 디스크립터 정보는 어디에 저장되나요?**
- **현재 답변**: "파일 디스크립터 정보도 PCB에 저장됩니다. 이 또한 프로세스 단위로 필요하기 때문입니다."
- **피드백**:
  - 💡 **보완**: 정확합니다. "PCB에 저장되며 프로세스 내 모든 스레드가 공유합니다"라고 표현하면 더 명확합니다.

### ✅ 설계 판단

**질문 1: PCB와 TCB 분리가 성능에 어떤 이점을 주나요?**
- **현재 답변**: "스레드간의 컨텍스트 스위칭이 발생할 때 PCB라는 무거운 데이터를 변경할 필요가 없어집니다."
- **피드백**:
  - 💡 **보완**: 정확합니다. "스레드 스위칭 시 불필요한 정보를 건드리지 않아 비용이 줄어듭니다"라고 표현하면 더 명확합니다.

**질문 2: 사용자 레벨 스레드 라이브러리에서도 TCB 개념이 필요한 이유는 무엇인가요?**
- **현재 답변**: 답변 누락
- **피드백**:
  - ❌ **답변 필요**: 면접에서 나올 수 있는 질문입니다.
  - ✅ **정확한 답변**: "스레드 상태와 컨텍스트를 추적하고 관리하기 위해서입니다."
  - 💡 **보완**: 사용자 레벨 스레드 라이브러리(예: pthread)도 스레드의 상태와 컨텍스트를 추적하고 관리해야 합니다. 각 스레드의 레지스터 상태, 스택 포인터, 실행 상태 등을 저장하기 위해 TCB와 유사한 구조가 필요합니다.

### ✅ 요약 질문

**질문 1: PCB와 TCB 구조를 한 문장으로 요약해보세요.**
- **현재 답변**: "PCB는 프로세스간에 컨텍스트 스위칭이 발생할 때 요구되는 정보들을 저장하고 TCB는 스레드간에 컨텍스트 스위칭이 발생할 떄 요구되는 정보들을 저장합니다."
- **피드백**:
  - ⚠️ **부정확**: "떄"는 오타입니다. 또한 컨텍스트 스위칭에만 국한된 설명입니다. 더 포괄적인 설명이 필요합니다.
  - ✅ **정확한 답변**: "PCB는 '프로세스 정보', TCB는 '스레드 실행 정보'를 담는 구조입니다."
  - 💡 **보완**: PCB는 프로세스의 상태와 자원 정보를 담는 구조이고, TCB는 스레드의 실행 상태와 컨텍스트 정보를 담는 구조입니다. 이 분리를 통해 효율적인 컨텍스트 스위칭이 가능합니다.

### 📊 전체 평가

**강점:**
- PCB와 TCB의 기본 개념을 이해하고 있습니다.
- 프로세스와 스레드의 관계를 알고 있습니다.
- 가상 메모리와 파일 디스크립터가 PCB에 저장된다는 것을 알고 있습니다.

**개선 필요:**
- ❌ 사용자 레벨 스레드 TCB 필요성 답변 누락
- ⚠️ PCB 정의 설명 부정확 ("데이터" vs "OS 커널 자료구조")
- ⚠️ TCB 정의 설명 부정확 ("데이터" vs "자료구조")
- ⚠️ PCB 포함 정보 설명 부정확 (프로그램 카운터, 스택, 레지스터는 TCB에)
- ⚠️ TCB 포함 정보 설명 부족 (스레드 ID, 우선순위, 실행 상태)
- ⚠️ PCB/TCB 공통 정보 설명 오개념 (스택/레지스터는 TCB에만)
- ⚠️ 멀티스레드 프로세스에서 PCB/TCB 관계 설명 부족 (구조적 관계)
- ⚠️ 요약 질문 오타 및 표현 부정확

**우선순위:**
1. **높음**: 사용자 레벨 스레드 TCB 필요성 답변 작성
2. **높음**: PCB/TCB 공통 정보 오개념 수정 (스택/레지스터는 TCB에만)
3. **높음**: PCB 포함 정보 수정 (프로세스 고유 정보만)
4. **중간**: PCB/TCB 정의 명확화 (자료구조)
5. **중간**: TCB 포함 정보 보완
6. **중간**: 멀티스레드 프로세스에서 PCB/TCB 관계 설명 보완
7. **낮음**: 표현 정확성 개선 (오타 수정)

**특별 주의사항:**
- PCB는 "프로세스의 상태와 자원 정보를 담는 OS 커널의 자료구조"입니다. 프로세스 ID, 메모리 정보, 파일 디스크립터, 스케줄링 정보 등을 포함합니다.
- TCB는 "스레드의 실행 상태와 컨텍스트 정보를 담는 자료구조"입니다. 스레드 ID, 레지스터 상태, 스택 포인터, 우선순위 등을 포함합니다.
- 스택과 레지스터 상태는 TCB에만 있습니다. PCB에는 프로세스 레벨 정보(메모리, 파일 디스크립터 등)가 있습니다.
- 멀티스레드 프로세스에서 하나의 PCB가 여러 TCB를 가리키며, TCB는 자신의 PCB를 참조합니다.
- PCB와 TCB를 분리하여 관리함으로써 스레드 스위칭 시 불필요한 프로세스 레벨 정보를 건드리지 않아 비용이 줄어듭니다.
