# 🧠 C++ 순환 참조(cyclic reference) 문제 면접 질문 리스트

## ✅ 기본 개념

1. 순환 참조(cyclic reference)란 무엇인가요?
2. 순환 참조는 왜 문제가 되나요?

## ✅ shared_ptr 관점 (핵심)

1. shared_ptr에서 순환 참조가 발생하는 이유는 무엇인가요?
2. 순환 참조가 발생하면 참조 카운트는 어떻게 되나요?

## ✅ 메모리 누수와의 관계

1. 순환 참조는 메모리 누수인가요?
2. 일반적인 메모리 누수와 순환 참조 누수의 차이는 무엇인가요?

## ✅ 대표적인 발생 사례

1. 부모–자식 관계에서 순환 참조가 발생하는 구조는 어떤 모습인가요?
2. observer 패턴에서 순환 참조가 발생할 수 있는 이유는 무엇인가요?

## ✅ 해결 방법

1. 순환 참조를 해결하는 가장 일반적인 방법은 무엇인가요?
2. 어떤 쪽을 weak_ptr로 만들어야 하나요?
3. weak_ptr를 사용하면 참조 카운트는 어떻게 달라지나요?

## ✅ 설계 판단

1. 모든 참조를 weak_ptr로 만들면 안 되는 이유는 무엇인가요?
2. 순환 참조를 설계 단계에서 방지하는 방법은 무엇인가요?

## ✅ 요약 질문

1. 순환 참조 문제를 한 문장으로 요약해보세요.

<details>
<summary>GPT 1줄 답변</summary>
<div markdown="1">

## ?? 1줄 모범 답변

1. 객체들이 서로를 참조해 참조 그래프에 사이클이 생긴 상태입니다.
2. 참조 카운트가 0이 되지 않아 객체가 해제되지 않기 때문입니다.

3. shared_ptr는 참조를 만들 때마다 카운트를 증가시키기 때문입니다.
4. 서로를 붙잡아 참조 카운트가 항상 1 이상으로 유지됩니다.

5. 네, 해제되지 않는 객체가 남는 논리적 메모리 누수입니다.
6. 해제 경로 상실이 아닌 참조 구조 자체가 원인입니다.

7. 부모가 자식을 shared_ptr로, 자식이 부모를 shared_ptr로 참조하는 경우입니다.
8. 관찰자와 대상이 서로를 소유하려 할 때입니다.

9. 한쪽 참조를 weak_ptr로 바꾸는 것입니다.
10. 소유권이 필요 없는 방향입니다.
11. 증가하지 않습니다.

12. 객체 수명을 보장해야 할 참조까지 약해지기 때문입니다.
13. 소유 관계와 관찰 관계를 명확히 분리하는 것입니다.

14. 순환 참조는 “shared_ptr 소유 그래프에 생긴 사이클”입니다.

</div>
</details>

